<main>
  <mat-card>
    <h1 class="title">Register</h1>
    <form [formGroup]="form">
      <div class="form-container">
        <div>
          <mat-form-field>
            <mat-label>First Name</mat-label>
            <input matInput formControlName="firstName" required>
            <mat-error *ngIf="this.form.get('firstName').hasError('required')">
              First Name is required.
            </mat-error>
          </mat-form-field>
          <mat-form-field>
            <mat-label>Last Name</mat-label>
            <input matInput formControlName="lastName" required>
            <mat-error *ngIf="this.form.get('lastName').hasError('required')">
              Last Name is required.
            </mat-error>
          </mat-form-field>
          <mat-form-field>
            <mat-label>Username</mat-label>
            <input matInput formControlName="username" required>
            <mat-error *ngIf="this.form.get('username').hasError('required')">
             Username is required.
            </mat-error>
          </mat-form-field>
        </div>
        <div>
          <mat-form-field>
            <mat-label>Email</mat-label>
            <input matInput formControlName="email" type="email" required>
            <mat-error *ngIf="this.form.get('email').hasError('required')">
              Email is required.
            </mat-error>
          </mat-form-field>
          <mat-form-field hintLabel="Min 6 characters">
            <mat-label>Password</mat-label>
            <input matInput minLength="6" required [type]="hide ? 'password' : 'text'" formControlName="password"
              name="password" type="password">
            <button type="button" mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'"
              [attr.aria-pressed]="hide">
              <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
            </button>
            <mat-error *ngIf="this.form.get('password').hasError('required')">
              Password is required.
            </mat-error>
          </mat-form-field>
          <mat-form-field hintLabel="Min 6 characters">
            <mat-label>Repeat Password</mat-label>
            <input matInput minLength="6" required [type]="hide ? 'password' : 'text'" #rePassword name="rePassword"
              type="password">
            <button type="button" mat-icon-button class="button-mint" matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'"
              [attr.aria-pressed]="hide">
              <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
            </button>
            <mat-hint align="end">{{rePassword.value?.length || 0}}/6</mat-hint>
            <mat-error *ngIf="this.form.get('password').hasError('required')">
              Repeat Password is required.
            </mat-error>
          </mat-form-field>
          <mat-form-field>
            <mat-label>Image Url</mat-label>
            <input matInput formControlName="imageUrl">
          </mat-form-field>
        </div>
      </div>
      <button mat-raised-button class="button-purple" type="submit" (click)="onSubmit()">Register</button>
    </form>
  </mat-card>
</main>